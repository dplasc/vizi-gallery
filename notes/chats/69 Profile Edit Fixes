Naravno. Evo **STRUCTURED SUMMARY / HANDOFF** za **ovaj chat**, u toÄno traÅ¾enom formatu.

---

## 1. Chat broj

**Chat #69**

---

## 2. Naslov chata (tehniÄki precizan)

**Profile Edit Fixes: Username Validation Sync, Save Form POST, Avatar Upload FREE + PRO Gating Cleanup**

---

## 3. Faza projekta

**FAZA: Stabilizacija core profila + monetizacija (post-enforcement cleanup)**

---

## 4. Å to smo konkretno napravili / zakljuÄili

* Sinkronizirali **username validaciju**:

  * Registracija / onboarding sada koristi **ista pravila** kao profile edit (`^[a-z0-9-]{3,24}$`)
  * OnemoguÄ‡eno kreiranje â€œlegacyâ€ usernamea s toÄkom
* Popravljen bug gdje **gornji Save na `/profile/edit` nije spremao**:

  * Dodan `method="post"` na Form A (profil podaci)
  * PotvrÄ‘eno da su forme sibling (nema nested form bugova)
* Detektiran i rijeÅ¡en **legacy username** u bazi (`oglasavajse.hr` â†’ `oglasavajse-hr`):

  * One-time SQL fix u `profiles`
* Implementiran **avatar upload endpoint preko server API-ja**
* Ispravljena produktna odluka:

  * âŒ Avatar pogreÅ¡no gated kao PRO
  * âœ… Avatar vraÄ‡en kao **FREE feature**
* Uklonjen sav PRO / limits gating iz `app/api/profile/avatar/route.ts`
* OÄiÅ¡Ä‡en repo (uklonjeni `less` artefakti i encoding junk file)
* Produkcijski test potvrÄ‘en:

  * âœ… FREE user moÅ¾e uploadati avatar
  * âœ… Avatar se sprema i ostaje nakon refresh

---

## 5. Å to je IZRIÄŒITO odluÄeno / zakljuÄano

* **Avatar upload je FREE** za sve ulogirane korisnike
* **Header / cover image ostaje PRO**
* Username pravila su **jedinstvena u cijelom sustavu** (registracija + edit)
* `/profile/edit` je **source of truth** za javni profil
* Ne briÅ¡emo raÄune radi legacy bugova â€” rjeÅ¡avamo ih **kontroliranim migracijama**

---

## 6. Otvorene stavke

* UX poboljÅ¡anje:

  * jasnije oznaÄiti razliku izmeÄ‘u **Dashboard** i **Profile Edit**
* Vizualno razdvojiti FREE vs PRO featuree (badge / label consistency)
* Eventualno:

  * inline validacija username polja (prije submita)

*(niÅ¡ta od ovoga nije blocker)*

---

## 7. SljedeÄ‡i dogovoreni korak (samo jedan)

**ZakljuÄiti monetizacijski model za PRO (Å¡to toÄno ulazi u PRO osim header image i galerije)**

---

## 8. Napomena za nastavak u novom chatu

U novom chatu:

* kreÄ‡emo **Äisto**, bez bug-fix konteksta
* fokus iskljuÄivo na **PRO feature set + cijene**
* radimo **1 odluku po koraku**, bez scope creepa

ğŸ‘‰ SljedeÄ‡i chat moÅ¾eÅ¡ zapoÄeti s:
**â€œIdemo definirati PRO paket za Vizi.hr.â€**

Kad god si spreman â€” ja vodim dalje. ğŸ’ª
